{
  "documents": [
    {
      "name": "Business Proposal",
      "category": "Business",
      "pro": false,
      "coverImage": "https://raw.githubusercontent.com/Alfredoooh/novasignal/main/covers/business_proposal.png",
      "html": "<!DOCTYPE html> <html lang="pt"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>Resume Editor Pro</title> <!-- Dependências externas --> <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script> <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script> <style> :root { --bg: #505050; --bar-bg: #ffffff; --accent: #111111; --sidebar-bg: #3d4f5d; --sidebar-accent: #5b9dd9; --text-primary: #111111; --shadow: 0 4px 12px rgba(16,16,16,0.08); --page-scale: 0.9; } * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; } html, body { height: 100%; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: var(--bg); display: flex; flex-direction: column; overflow: hidden; } .top-toolbar { background: var(--bar-bg); border-bottom: 1px solid #e5e7eb; padding: 12px 20px; display: flex; align-items: center; gap: 12px; flex-wrap: wrap; z-index: 50; } .toolbar-group { display:flex; align-items:center; gap:6px; padding:0 8px; border-right:1px solid #e5e7eb; } .toolbar-group:last-child { border-right: none; margin-left: auto; } .toolbar-btn { width: 36px; height: 36px; border: none; background: transparent; border-radius: 6px; cursor: pointer; display:flex; align-items:center; justify-content:center; transition: all 0.15s; color:#374151; font-size:18px; } .toolbar-btn:hover { background:#f3f4f6; } .toolbar-select { padding:6px 10px; border:1px solid #e5e7eb; border-radius:6px; background:white; cursor:pointer; font-size:13px; color:#374151; } .color-picker-btn { width:36px; height:36px; border:2px solid #e5e7eb; border-radius:6px; padding:0; cursor:pointer; } .scroll-container { flex:1; overflow-y:auto; overflow-x:hidden; padding:40px 20px 120px 20px; display:flex; flex-direction:column; align-items:center; gap:30px; } /* Página (A4-like) */ .page { width: calc(210mm * var(--page-scale)); min-height: calc(297mm * var(--page-scale)); background: white; box-shadow: 0 0 20px rgba(0,0,0,0.5); position: relative; display: grid; grid-template-columns: calc(270px * var(--page-scale)) 1fr; transition: transform 0.15s; transform-origin: top center; overflow: hidden; } .page.pdf-rendering { width: 210mm !important; min-height: 297mm !important; grid-template-columns: 270px 1fr; transform: none !important; box-shadow: none !important; } .sidebar { background: var(--sidebar-bg); color: white; padding: calc(25px * var(--page-scale)) calc(20px * var(--page-scale)); min-height: 100%; } .main-content { padding: calc(25px * var(--page-scale)) calc(30px * var(--page-scale)); overflow-wrap: break-word; } /* Perfil */ .profile-section { text-align:center; margin-bottom: calc(25px * var(--page-scale)); } .profile-image-wrapper { position: relative; width: calc(130px * var(--page-scale)); height: calc(130px * var(--page-scale)); margin: 0 auto 15px; cursor: pointer; border-radius: 50%; overflow: hidden; border: 4px solid rgba(255,255,255,0.2); transition: all 0.3s ease; } .profile-image { width:100%; height:100%; object-fit:cover; display:block; } .image-overlay { position:absolute; inset:0; background: rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center; opacity:0; transition:opacity .25s; } .profile-image-wrapper:hover { transform:scale(1.03); border-color:var(--sidebar-accent); } .profile-image-wrapper:hover .image-overlay { opacity:1; } .image-overlay span { color:white; font-size:12px; font-weight:600; } .name { font-size: calc(19px * var(--page-scale)); font-weight:700; margin-bottom:6px; line-height:1.1; color:var(--text-primary); } .job-title { font-size: calc(10px * var(--page-scale)); color: #b0b8c0; margin-bottom:12px; } .social-links { display:flex; gap:8px; justify-content:center; margin-bottom:6px; } .social-link { width: calc(26px * var(--page-scale)); height: calc(26px * var(--page-scale)); background: rgba(255,255,255,0.1); border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all .2s; font-size: calc(8px * var(--page-scale)); font-weight:600; } .social-link:hover { background: var(--sidebar-accent); transform:translateY(-2px); } .section { margin-bottom: calc(22px * var(--page-scale)); } .section-title { font-size: calc(12px * var(--page-scale)); font-weight:700; margin-bottom:10px; padding-bottom:6px; border-bottom:2px solid rgba(255,255,255,0.2); display:inline-block; } .contact-item { margin-bottom:10px; font-size: calc(7.5px * var(--page-scale)); line-height:1.4; } .contact-label { font-weight:600; color: var(--sidebar-accent); display:block; margin-bottom:2px; } .language-item { margin-bottom:10px; } .language-name { font-size: calc(8.5px * var(--page-scale)); margin-bottom:5px; font-weight:500; } .progress-bar { height: calc(6px * var(--page-scale)); background: rgba(255,255,255,0.1); border-radius:3px; overflow:hidden; position:relative; } .progress-fill { height:100%; background:var(--sidebar-accent); transition: width .3s; position:absolute; left:0; top:0; } .content-section { margin-bottom: calc(22px * var(--page-scale)); } .content-section-title { font-size: calc(14px * var(--page-scale)); font-weight:700; color:#2d3748; margin-bottom:5px; padding-bottom:5px; border-bottom:2.5px solid #2d3748; display:inline-block; } .section-description { color:#6b7280; line-height:1.5; margin-bottom:16px; font-size: calc(7.5px * var(--page-scale)); } .experience-item, .education-item { margin-bottom:16px; padding-bottom:16px; border-bottom:1px solid #e5e7eb; } .item-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:5px; } .item-title { font-size: calc(10.5px * var(--page-scale)); font-weight:600; color:#2d3748; } .item-date { font-size: calc(7.5px * var(--page-scale)); color:#9ca3af; font-weight:500; } .item-company { color:var(--sidebar-accent); font-size: calc(8.5px * var(--page-scale)); margin-bottom:5px; font-weight:500; } .item-description { color:#6b7280; line-height:1.4; font-size: calc(7.5px * var(--page-scale)); } .skills-grid { display:grid; grid-template-columns: repeat(2, 1fr); gap: calc(14px * var(--page-scale)); } .skill-item { display:flex; flex-direction:column; } [contenteditable="true"] { outline:none; } [contenteditable="true"]:focus { outline:2px solid var(--sidebar-accent); outline-offset:2px; } .page-controls { position:absolute; top:10px; right:10px; display:none; gap:6px; z-index:10; } .page:hover .page-controls { display:flex; } .page-control-btn { width:32px; height:32px; border-radius:50%; background:rgba(0,0,0,0.6); color:white; border:none; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:18px; transition:all .15s; } .page-control-btn:hover { background:rgba(0,0,0,0.8); } .bottom-bar-wrapper { position: fixed; left:0; right:0; bottom:20px; display:flex; justify-content:center; pointer-events:none; z-index: 999; padding:0 20px; } .bottom-bar { pointer-events:auto; width:100%; max-width:1100px; background:var(--bar-bg); border-radius:16px; padding:12px 20px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); display:flex; align-items:center; gap:12px; flex-wrap:wrap; } .bottom-group { display:flex; align-items:center; gap:6px; padding:0 10px; border-right:1px solid #e5e7eb; } .bottom-group:last-child { border-right:none; } .bottom-btn { width:40px; height:40px; border:none; background:transparent; border-radius:8px; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:all 0.15s; color:#374151; font-size:18px; } .bottom-btn:hover { background:#f3f4f6; } .download-btn { background:var(--accent); color:white; padding:12px 24px; border-radius:10px; border:none; cursor:pointer; font-weight:600; display:flex; align-items:center; gap:8px; transition:all .15s; margin-left:auto; } .download-btn:hover { opacity:.95; transform:translateY(-2px); } #fileInput { display:none; } /* Modais */ .modal-backdrop { position:fixed; inset:0; background: rgba(0,0,0,0.6); display:none; align-items:center; justify-content:center; z-index:10000; } .modal-card { background:white; padding:20px; border-radius:12px; max-width:920px; width:90%; max-height:80vh; overflow:auto; box-shadow:0 20px 60px rgba(0,0,0,0.3); } /* Responsive */ @media (max-width:900px) { .page { width: 95%; min-height: 1200px; grid-template-columns: 1fr; } .sidebar { order:2; } .main-content { order:1; } .toolbar-group { display:none; } .toolbar-group.mobile-show { display:flex; } } @media print { body { background:white; padding:0; } .top-toolbar, .bottom-bar-wrapper, .page-controls { display:none !important; } .page { width:210mm !important; min-height:297mm !important; box-shadow:none; margin:0; page-break-after:always; } } </style> </head> <body> <!-- Top toolbar --> <div class="top-toolbar"> <div class="toolbar-group"> <select class="toolbar-select" id="fontFamily"> <option value="Arial">Arial</option> <option value="Times New Roman">Times New Roman</option> <option value="Courier New">Courier New</option> <option value="Georgia">Georgia</option> <option value="Verdana">Verdana</option> </select> <select class="toolbar-select" id="fontSize"> <option value="8px">8</option> <option value="10px">10</option> <option value="12px">12</option> <option value="14px" selected>14</option> <option value="16px">16</option> <option value="18px">18</option> <option value="20px">20</option> <option value="24px">24</option> <option value="28px">28</option> </select> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="execCmd('bold')" title="Negrito (Ctrl+B)"><strong>B</strong></button> <button class="toolbar-btn" onclick="execCmd('italic')" title="Itálico (Ctrl+I)"><em>I</em></button> <button class="toolbar-btn" onclick="execCmd('underline')" title="Sublinhado (Ctrl+U)"><u>U</u></button> <button class="toolbar-btn" onclick="execCmd('strikeThrough')" title="Tachado">S</button> </div> <div class="toolbar-group"> <input type="color" id="textColor" class="color-picker-btn" value="#000000" title="Cor do texto"> <input type="color" id="bgColor" class="color-picker-btn" value="#ffffff" title="Cor de fundo do texto selecionado"> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="execCmd('justifyLeft')" title="Alinhar à esquerda"><ion-icon name="text-align-left-outline"></ion-icon></button> <button class="toolbar-btn" onclick="execCmd('justifyCenter')" title="Centralizar"><ion-icon name="text-align-center-outline"></ion-icon></button> <button class="toolbar-btn" onclick="execCmd('justifyRight')" title="Alinhar à direita"><ion-icon name="text-align-right-outline"></ion-icon></button> <button class="toolbar-btn" onclick="execCmd('justifyFull')" title="Justificar"><ion-icon name="text-align-justify-outline"></ion-icon></button> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="execCmd('insertOrderedList')" title="Lista numerada"><ion-icon name="list-number-outline"></ion-icon></button> <button class="toolbar-btn" onclick="execCmd('insertUnorderedList')" title="Lista com marcadores"><ion-icon name="list-outline"></ion-icon></button> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="execCmd('undo')" title="Desfazer (Ctrl+Z)"><ion-icon name="arrow-undo-outline"></ion-icon></button> <button class="toolbar-btn" onclick="execCmd('redo')" title="Refazer (Ctrl+Y)"><ion-icon name="arrow-redo-outline"></ion-icon></button> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="addNewPage()" title="Adicionar página"><ion-icon name="add-circle-outline"></ion-icon></button> <button class="toolbar-btn" onclick="openSectionModal()" title="Adicionar seção"><ion-icon name="library-outline"></ion-icon></button> <button class="toolbar-btn" onclick="openThemeModal()" title="Temas"><ion-icon name="color-palette-outline"></ion-icon></button> <button class="toolbar-btn" onclick="downloadPDF()" title="Baixar PDF"><ion-icon name="cloud-download-outline"></ion-icon></button> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="exportToJSON()" title="Exportar JSON"><ion-icon name="download-outline"></ion-icon></button> <button class="toolbar-btn" onclick="importFromJSON()" title="Importar JSON"><ion-icon name="cloud-upload-outline"></ion-icon></button> </div> <div class="toolbar-group"> <button class="toolbar-btn" onclick="openFindReplace()" title="Pesquisar / Substituir"><ion-icon name="search-outline"></ion-icon></button> <button class="toolbar-btn" onclick="resetToDefault()" title="Resetar" style="color:#e74c3c;"><ion-icon name="trash-outline"></ion-icon></button> </div> <div class="toolbar-group mobile-show"> <label style="font-size:13px; margin-right:6px;">Zoom</label> <input id="zoomRange" type="range" min="60" max="110" value="90" /> </div> </div> <!-- Área de rolagem com páginas --> <div class="scroll-container" id="scrollContainer"> <div class="page" id="page-1" data-page-id="1"> <div class="page-controls"> <button class="page-control-btn" onclick="duplicatePage(1)" title="Duplicar"><ion-icon name="copy-outline"></ion-icon></button> <button class="page-control-btn" onclick="deletePage(1)" title="Excluir"><ion-icon name="trash-outline"></ion-icon></button> </div> <div class="sidebar"> <div class="profile-section"> <div class="profile-image-wrapper" id="profileWrapper" onclick="document.getElementById('fileInput').click()"> <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop" alt="Profile" class="profile-image" id="profileImage"> <div class="image-overlay"><span>Mudar Foto</span></div> </div> <input type="file" id="fileInput" accept="image/*" onchange="handleImageUpload(event)"> <h1 class="name" contenteditable="true">Henry Madison</h1> <p class="job-title" contenteditable="true">Graphic Designer</p> <div class="social-links"> <div class="social-link" contenteditable="true">in</div> <div class="social-link" contenteditable="true">tw</div> <div class="social-link" contenteditable="true">fb</div> </div> </div> <div class="section"> <h2 class="section-title">Contato</h2> <div class="contact-item"> <span class="contact-label">Email:</span> <span contenteditable="true">info@yourmail.com</span> </div> <div class="contact-item"> <span class="contact-label">Telefone:</span> <span contenteditable="true">+0000 1234 5678</span> </div> <div class="contact-item"> <span class="contact-label">Endereço:</span> <span contenteditable="true">New York City - 000</span> </div> </div> <div class="section"> <h2 class="section-title">Idiomas</h2> <div class="language-item"> <div class="language-name" contenteditable="true">Inglês</div> <div class="progress-bar"><div class="progress-fill" style="width:95%" data-width="95"></div></div> </div> <div class="language-item"> <div class="language-name" contenteditable="true">Português</div> <div class="progress-bar"><div class="progress-fill" style="width:100%" data-width="100"></div></div> </div> <div class="language-item"> <div class="language-name" contenteditable="true">Espanhol</div> <div class="progress-bar"><div class="progress-fill" style="width:60%" data-width="60"></div></div> </div> </div> </div> <div class="main-content" contenteditable="true"> <div class="content-section"> <h2 class="content-section-title">Perfil</h2> <p class="section-description"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. </p> </div> <div class="content-section"> <h2 class="content-section-title">Experiência</h2> <div class="experience-item"> <div class="item-header"> <div> <div class="item-title">Designer Sênior</div> <div class="item-company">Nome da Empresa</div> </div> <div class="item-date">2020 - 2025</div> </div> <p class="item-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor</p> </div> </div> <div class="content-section"> <h2 class="content-section-title">Educação</h2> <div class="education-item"> <div class="item-header"> <div> <div class="item-title">Universidade Federal</div> <div class="item-company">Bacharelado em Design</div> </div> <div class="item-date">2015 - 2019</div> </div> <p class="item-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit</p> </div> </div> <div class="content-section"> <h2 class="content-section-title">Habilidades</h2> <div class="skills-grid"> <div class="skill-item"> <div class="skill-header"> <span class="skill-name">Premiere Pro</span> <span class="skill-level">Expert</span> </div> <div class="progress-bar"><div class="progress-fill" style="width:90%" data-width="90"></div></div> </div> <div class="skill-item"> <div class="skill-header"> <span class="skill-name">Photoshop</span> <span class="skill-level">Expert</span> </div> <div class="progress-bar"><div class="progress-fill" style="width:95%" data-width="95"></div></div> </div> </div> </div> </div> </div> </div> <!-- bottom bar --> <div class="bottom-bar-wrapper"> <div class="bottom-bar"> <div class="bottom-group"> <button class="bottom-btn" onclick="execCmd('bold')" title="Negrito"><strong>B</strong></button> <button class="bottom-btn" onclick="execCmd('italic')" title="Itálico"><em>I</em></button> <button class="bottom-btn" onclick="execCmd('underline')" title="Sublinhado"><u>U</u></button> </div> <div class="bottom-group"> <button class="bottom-btn" onclick="insertLink()" title="Inserir link"><ion-icon name="link-outline"></ion-icon></button> <button class="bottom-btn" onclick="insertImage()" title="Inserir imagem"><ion-icon name="image-outline"></ion-icon></button> <button class="bottom-btn" onclick="insertTable()" title="Inserir tabela"><ion-icon name="grid-outline"></ion-icon></button> </div> <div class="bottom-group"> <button class="bottom-btn" onclick="execCmd('formatBlock', 'h1')" title="Título 1">H1</button> <button class="bottom-btn" onclick="execCmd('formatBlock', 'h2')" title="Título 2">H2</button> <button class="bottom-btn" onclick="execCmd('formatBlock', 'p')" title="Parágrafo">P</button> </div> <button class="download-btn" onclick="downloadPDF()"> <ion-icon name="cloud-download-outline"></ion-icon> <span>Baixar PDF</span> </button> </div> </div> <!-- Modais genéricos --> <div id="themeModal" class="modal-backdrop" aria-hidden="true"> <div class="modal-card" role="dialog" aria-modal="true" aria-label="Escolha um Tema"></div> </div> <div id="sectionModal" class="modal-backdrop" aria-hidden="true"> <div class="modal-card" role="dialog" aria-modal="true" aria-label="Adicionar Seção"></div> </div> <div id="findReplaceModal" class="modal-backdrop" aria-hidden="true"> <div class="modal-card" role="dialog" aria-modal="true" aria-label="Pesquisar e Substituir"> <h3 style="margin-bottom:8px;">Pesquisar & Substituir</h3> <div style="display:flex; gap:8px; align-items:center; margin-bottom:8px;"> <input id="findInput" placeholder="Pesquisar..." style="flex:1; padding:8px; border:1px solid #ddd; border-radius:6px;" /> <input id="replaceInput" placeholder="Substituir por..." style="flex:1; padding:8px; border:1px solid #ddd; border-radius:6px;" /> </div> <div style="display:flex; gap:8px;"> <button onclick="doFind()" style="padding:8px 12px; border-radius:6px; background:#3498db; color:white; border:none;">Procurar</button> <button onclick="doReplace()" style="padding:8px 12px; border-radius:6px; background:#16a085; color:white; border:none;">Substituir</button> <button onclick="closeFindReplace()" style="padding:8px 12px; border-radius:6px; background:#e74c3c; color:white; border:none;">Fechar</button> </div> </div> </div> <input type="file" id="jsonImport" accept=".json" style="display:none" /> <script> // ---------- Estado global ---------- let pageCounter = 1; const scrollContainer = document.getElementById('scrollContainer'); const colorThemes = { professional: { name:'Profissional', sidebarBg:'#2c3e50', sidebarAccent:'#3498db', mainText:'#2c3e50', accentColor:'#3498db' }, creative: { name:'Criativo', sidebarBg:'#8e44ad', sidebarAccent:'#e74c3c', mainText:'#8e44ad', accentColor:'#e74c3c' }, modern: { name:'Moderno', sidebarBg:'#34495e', sidebarAccent:'#1abc9c', mainText:'#34495e', accentColor:'#1abc9c' }, elegant: { name:'Elegante', sidebarBg:'#2c2c2c', sidebarAccent:'#d4af37', mainText:'#2c2c2c', accentColor:'#d4af37' }, vibrant: { name:'Vibrante', sidebarBg:'#e91e63', sidebarAccent:'#ff5722', mainText:'#e91e63', accentColor:'#ff5722' }, nature: { name:'Natureza', sidebarBg:'#2e7d32', sidebarAccent:'#8bc34a', mainText:'#2e7d32', accentColor:'#8bc34a' }, ocean: { name:'Oceano', sidebarBg:'#006064', sidebarAccent:'#00acc1', mainText:'#006064', accentColor:'#00acc1' }, sunset: { name:'Pôr do Sol', sidebarBg:'#d84315', sidebarAccent:'#ffb300', mainText:'#d84315', accentColor:'#ffb300' }, corporate: { name:'Corporativo', sidebarBg:'#1565c0', sidebarAccent:'#1976d2', mainText:'#1565c0', accentColor:'#1976d2' }, tech: { name:'Tecnologia', sidebarBg:'#212121', sidebarAccent:'#00e676', mainText:'#212121', accentColor:'#00e676' } }; // ---------- Funções utilitárias ---------- function execCmd(command, value = null) { // trabalhar com styleWithCSS para cores/fonte funcionarem melhor try { document.execCommand('styleWithCSS', false, true); } catch(e){ /* ignore */ } document.execCommand(command, false, value); saveStateDebounced(); } // Map de px para valores 1-7 do execCommand('fontSize') - aproximação function pxToHtmlFontSize(px) { const n = parseInt(px, 10); if (n <= 8) return 1; if (n <= 10) return 2; if (n <= 12) return 3; if (n <= 14) return 4; if (n <= 16) return 5; if (n <= 20) return 6; return 7; } document.getElementById('fontFamily').addEventListener('change', function() { execCmd('fontName', this.value); }); document.getElementById('fontSize').addEventListener('change', function() { // aplicamos o tamanho à seleção const size = this.value; const htmlSize = pxToHtmlFontSize(size); execCmd('fontSize', htmlSize); // corrige estilo inline para usar px // substitui tags <font size="X"> por span com font-size sanitizeFontSizeTags(size); saveStateDebounced(); }); function sanitizeFontSizeTags(px) { // substitui <font size="n"> por <span style="font-size: XXpx"> const editor = document.querySelector('.main-content'); if (!editor) return; editor.querySelectorAll('font[size]').forEach(f => { const span = document.createElement('span'); span.style.fontSize = px; span.innerHTML = f.innerHTML; f.parentNode.replaceChild(span, f); }); } document.getElementById('textColor').addEventListener('input', function() { execCmd('foreColor', this.value); saveStateDebounced(); }); document.getElementById('bgColor').addEventListener('input', function() { execCmd('backColor', this.value); saveStateDebounced(); }); // Insert link / image / tabela function insertLink() { const url = prompt('Digite a URL:'); if (url) execCmd('createLink', url); } function insertImage() { const url = prompt('Digite a URL da imagem:'); if (url) { // insere uma imagem responsiva const html = `<img src="${url}" style="max-width:100%; height:auto;" />`; execCmd('insertHTML', html); saveStateDebounced(); } } function insertTable() { const rows = parseInt(prompt('Número de linhas:', '3'), 10) || 3; const cols = parseInt(prompt('Número de colunas:', '3'), 10) || 3; let tableHTML = '<table border="1" style="border-collapse:collapse; width:100%; margin:10px 0;">'; for (let i=0; i<rows; i++) { tableHTML += '<tr>'; for (let j=0; j<cols; j++) { tableHTML += '<td style="padding:8px; border:1px solid #ddd;" contenteditable="true">Célula</td>'; } tableHTML += '</tr>'; } tableHTML += '</table>'; execCmd('insertHTML', tableHTML); saveStateDebounced(); } // ---------- Páginas: criar, duplicar, excluir ---------- function addNewPage() { pageCounter++; const newPage = document.createElement('div'); newPage.className = 'page'; newPage.id = `page-${pageCounter}`; newPage.setAttribute('data-page-id', pageCounter); newPage.innerHTML = ` <div class="page-controls"> <button class="page-control-btn" onclick="duplicatePage(${pageCounter})" title="Duplicar"> <ion-icon name="copy-outline"></ion-icon> </button> <button class="page-control-btn" onclick="deletePage(${pageCounter})" title="Excluir"> <ion-icon name="trash-outline"></ion-icon> </button> </div> <div class="sidebar"> <div class="profile-section"> <div class="profile-image-wrapper" onclick="document.getElementById('fileInput').click()"> <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop" alt="Profile" class="profile-image"> <div class="image-overlay"><span>Mudar Foto</span></div> </div> <h1 class="name" contenteditable="true">Seu Nome</h1> <p class="job-title" contenteditable="true">Sua Profissão</p> <div class="social-links"> <div class="social-link" contenteditable="true">in</div> <div class="social-link" contenteditable="true">tw</div> <div class="social-link" contenteditable="true">fb</div> </div> </div> <div class="section"> <h2 class="section-title">Contato</h2> <div class="contact-item"> <span class="contact-label">Email:</span> <span contenteditable="true">seu@email.com</span> </div> <div class="contact-item"> <span class="contact-label">Telefone:</span> <span contenteditable="true">+0000 0000 0000</span> </div> <div class="contact-item"> <span class="contact-label">Endereço:</span> <span contenteditable="true">Sua Cidade</span> </div> </div> </div> <div class="main-content" contenteditable="true"> <div class="content-section"> <h2 class="content-section-title">Nova Seção</h2> <p class="section-description">Adicione seu conteúdo aqui...</p> </div> </div> `; scrollContainer.appendChild(newPage); newPage.scrollIntoView({behavior:'smooth', block:'center'}); saveStateDebounced(); } function duplicatePage(pageId) { const originalPage = document.getElementById(`page-${pageId}`); if (!originalPage) return; pageCounter++; const clone = originalPage.cloneNode(true); clone.id = `page-${pageCounter}`; clone.setAttribute('data-page-id', pageCounter); // Atualiza handlers inline das page-controls cloneadas const controls = clone.querySelector('.page-controls'); controls.innerHTML = ` <button class="page-control-btn" onclick="duplicatePage(${pageCounter})" title="Duplicar"> <ion-icon name="copy-outline"></ion-icon> </button> <button class="page-control-btn" onclick="deletePage(${pageCounter})" title="Excluir"> <ion-icon name="trash-outline"></ion-icon> </button> `; originalPage.parentNode.insertBefore(clone, originalPage.nextSibling); clone.scrollIntoView({behavior:'smooth', block:'center'}); saveStateDebounced(); } function deletePage(pageId) { const pages = document.querySelectorAll('.page'); if (pages.length <= 1) { alert('Você precisa ter pelo menos uma página!'); return; } if (!confirm('Tem certeza que deseja excluir esta página?')) return; const page = document.getElementById(`page-${pageId}`); if (page) { page.remove(); saveStateDebounced(); } } // ---------- PDF export (html2canvas + jsPDF) ---------- async function downloadPDF() { const { jsPDF } = window.jspdf; const pdf = new jsPDF('p','mm','a4'); const pages = document.querySelectorAll('.page'); const downloadBtn = document.querySelector('.download-btn'); const originalText = downloadBtn.innerHTML; downloadBtn.innerHTML = '<ion-icon name="hourglass-outline"></ion-icon><span>Gerando PDF...</span>'; downloadBtn.disabled = true; try { for (let i=0; i<pages.length; i++) { const page = pages[i]; // ajusta estilo para tamanho A4 real durante captura page.classList.add('pdf-rendering'); const canvas = await html2canvas(page, { scale: 2, useCORS: true, logging: false, backgroundColor: '#ffffff' }); page.classList.remove('pdf-rendering'); const imgData = canvas.toDataURL('image/png'); const imgWidth = 210; // mm width A4 const imgHeight = (canvas.height * imgWidth) / canvas.width; if (i > 0) pdf.addPage(); pdf.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight); } pdf.save('curriculo.pdf'); } catch (err) { console.error('Erro ao gerar PDF:', err); alert('Erro ao gerar PDF. Veja console.'); } finally { downloadBtn.innerHTML = originalText; downloadBtn.disabled = false; } } // ---------- Temas ---------- function applyTheme(themeName) { const theme = colorThemes[themeName]; if (!theme) return; document.querySelectorAll('.sidebar').forEach(s => s.style.backgroundColor = theme.sidebarBg); document.querySelectorAll('.social-link').forEach(l => l.style.setProperty('--hover-color', theme.sidebarAccent)); document.querySelectorAll('.contact-label').forEach(l => l.style.color = theme.sidebarAccent); document.querySelectorAll('.progress-fill').forEach(f => f.style.backgroundColor = theme.sidebarAccent); document.querySelectorAll('.content-section-title').forEach(t => { t.style.color = theme.mainText; t.style.borderBottomColor = theme.mainText; }); document.querySelectorAll('.item-company').forEach(c => c.style.color = theme.sidebarAccent); document.documentElement.style.setProperty('--sidebar-bg', theme.sidebarBg); document.documentElement.style.setProperty('--sidebar-accent', theme.sidebarAccent); document.documentElement.style.setProperty('--text-primary', theme.mainText); saveStateDebounced(); } function createThemeModalContent() { let html = '<h2 style="margin-bottom:12px;">Escolha um Tema</h2>'; html += '<div style="display:grid; grid-template-columns: repeat(auto-fill,minmax(140px,1fr)); gap:12px;">'; for (const [key, theme] of Object.entries(colorThemes)) { html += `<div role="button" tabindex="0" onclick="applyTheme('${key}'); closeThemeModal()" style="cursor:pointer; padding:14px; border-radius:10px; text-align:center; border:2px solid #e0e0e0; background:linear-gradient(135deg, ${theme.sidebarBg} 0%, ${theme.sidebarAccent} 100%); color:white; font-weight:600;">${theme.name}</div>`; } html += '</div><button onclick="closeThemeModal()" style="margin-top:14px; width:100%; padding:10px; border-radius:8px; background:#e74c3c; color:white; border:none;">Fechar</button>'; return html; } function openThemeModal() { const modal = document.getElementById('themeModal'); modal.querySelector('.modal-card').innerHTML = createThemeModalContent(); modal.style.display = 'flex'; modal.setAttribute('aria-hidden', 'false'); } function closeThemeModal() { const modal = document.getElementById('themeModal'); modal.style.display = 'none'; modal.setAttribute('aria-hidden', 'true'); } // ---------- Adicionar seções ---------- function createSectionModalContent() { const sections = [ { type:'experience', icon:'briefcase-outline', name:'Experiência Profissional'}, { type:'education', icon:'school-outline', name:'Formação Acadêmica'}, { type:'skills', icon:'bulb-outline', name:'Habilidades'}, { type:'projects', icon:'code-slash-outline', name:'Projetos'}, { type:'certifications', icon:'ribbon-outline', name:'Certificações'}, { type:'awards', icon:'trophy-outline', name:'Prêmios'}, { type:'volunteer', icon:'heart-outline', name:'Voluntariado'}, { type:'references', icon:'people-outline', name:'Referências'} ]; let html = '<h2 style="margin-bottom:12px;">Adicionar Seção</h2><div style="display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:10px;">'; sections.forEach(s => { html += `<button onclick="addSection('${s.type}'); closeSectionModal()" style="padding:12px; border-radius:8px; background:white; border:1px solid #e0e0e0; cursor:pointer; display:flex; gap:10px; align-items:center;"><ion-icon name="${s.icon}" style="font-size:20px; color:#3498db;"></ion-icon> ${s.name}</button>`; }); html += '</div><button onclick="closeSectionModal()" style="margin-top:12px; width:100%; padding:10px; border-radius:8px; background:#e74c3c; color:white; border:none;">Fechar</button>'; return html; } function openSectionModal() { const modal = document.getElementById('sectionModal'); modal.querySelector('.modal-card').innerHTML = createSectionModalContent(); modal.style.display = 'flex'; modal.setAttribute('aria-hidden', 'false'); } function closeSectionModal() { const modal = document.getElementById('sectionModal'); modal.style.display = 'none'; modal.setAttribute('aria-hidden', 'true'); } function addSection(type) { const mainContent = document.querySelector('.page .main-content'); let sectionHTML = ''; switch(type) { case 'experience': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Experiência Profissional</h2> <div class="experience-item"> <div class="item-header"> <div> <div class="item-title" contenteditable="true">Cargo</div> <div class="item-company" contenteditable="true">Nome da Empresa</div> </div> <div class="item-date" contenteditable="true">2020 - 2025</div> </div> <p class="item-description" contenteditable="true">Descreva suas responsabilidades e conquistas...</p> </div> </div>`; break; case 'education': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Formação Acadêmica</h2> <div class="education-item"> <div class="item-header"> <div> <div class="item-title" contenteditable="true">Instituição</div> <div class="item-company" contenteditable="true">Curso / Grau</div> </div> <div class="item-date" contenteditable="true">2015 - 2019</div> </div> <p class="item-description" contenteditable="true">Detalhes da formação...</p> </div> </div>`; break; case 'skills': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Habilidades</h2> <div class="skills-grid"> <div class="skill-item"> <div class="skill-header"><span class="skill-name" contenteditable="true">Habilidade</span><span class="skill-level" contenteditable="true">Avançado</span></div> <div class="progress-bar"><div class="progress-fill" style="width:75%" data-width="75"></div></div> </div> <div class="skill-item"> <div class="skill-header"><span class="skill-name" contenteditable="true">Outra</span><span class="skill-level" contenteditable="true">Intermediário</span></div> <div class="progress-bar"><div class="progress-fill" style="width:60%" data-width="60"></div></div> </div> </div> </div>`; break; case 'projects': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Projetos</h2> <div class="experience-item"> <div class="item-header"> <div> <div class="item-title" contenteditable="true">Nome do Projeto</div> <div class="item-company" contenteditable="true">Tecnologias</div> </div> <div class="item-date" contenteditable="true">2024</div> </div> <p class="item-description" contenteditable="true">Descrição do projeto...</p> </div> </div>`; break; case 'certifications': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Certificações</h2> <div class="education-item"> <div class="item-header"> <div> <div class="item-title" contenteditable="true">Nome da Certificação</div> <div class="item-company" contenteditable="true">Instituição</div> </div> <div class="item-date" contenteditable="true">2024</div> </div> <p class="item-description" contenteditable="true">Detalhes da certificação...</p> </div> </div>`; break; case 'awards': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Prêmios</h2> <div class="education-item"> <div class="item-header"> <div> <div class="item-title" contenteditable="true">Nome do Prêmio</div> <div class="item-company" contenteditable="true">Organização</div> </div> <div class="item-date" contenteditable="true">2024</div> </div> <p class="item-description" contenteditable="true">Descrição do prêmio...</p> </div> </div>`; break; case 'volunteer': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Trabalho Voluntário</h2> <div class="experience-item"> <div class="item-header"> <div> <div class="item-title" contenteditable="true">Posição</div> <div class="item-company" contenteditable="true">Organização</div> </div> <div class="item-date" contenteditable="true">2023 - 2024</div> </div> <p class="item-description" contenteditable="true">Descreva as atividades...</p> </div> </div>`; break; case 'references': sectionHTML = ` <div class="content-section"> <h2 class="content-section-title">Referências</h2> <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;"> <div> <div class="item-title" contenteditable="true">Nome Completo</div> <div class="item-company" contenteditable="true">Cargo</div> <div class="contact-item" style="margin-top:8px;"> <span class="contact-label">Email:</span> <span contenteditable="true">email@exemplo.com</span> </div> <div class="contact-item"> <span class="contact-label">Telefone:</span> <span contenteditable="true">+00 00000-0000</span> </div> </div> </div> </div>`; break; } if (sectionHTML) { mainContent.insertAdjacentHTML('beforeend', sectionHTML); saveStateDebounced(); } } // ---------- Export / Import JSON ---------- function exportToJSON() { const pages = document.querySelectorAll('.page'); const data = { version:'1.0', pages: [] }; pages.forEach(page => { data.pages.push({ id: page.getAttribute('data-page-id'), sidebar: page.querySelector('.sidebar').innerHTML, mainContent: page.querySelector('.main-content').innerHTML }); }); const json = JSON.stringify(data, null, 2); const blob = new Blob([json], { type:'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'curriculo-backup.json'; a.click(); URL.revokeObjectURL(url); } function importFromJSON() { const input = document.getElementById('jsonImport'); input.onchange = (e) => { const file = e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = (ev) => { try { const data = JSON.parse(ev.target.result); if (data.version && data.pages) { scrollContainer.innerHTML = ''; data.pages.forEach((p, idx) => { const id = p.id || (idx+1); const page = document.createElement('div'); page.className = 'page'; page.id = `page-${id}`; page.setAttribute('data-page-id', id); page.innerHTML = ` <div class="page-controls"> <button class="page-control-btn" onclick="duplicatePage(${id})" title="Duplicar"><ion-icon name="copy-outline"></ion-icon></button> <button class="page-control-btn" onclick="deletePage(${id})" title="Excluir"><ion-icon name="trash-outline"></ion-icon></button> </div> <div class="sidebar">${p.sidebar}</div> <div class="main-content">${p.mainContent}</div> `; scrollContainer.appendChild(page); }); pageCounter = document.querySelectorAll('.page').length; alert('Currículo importado com sucesso!'); saveStateDebounced(); } else throw new Error('Formato inválido'); } catch (err) { console.error('Erro importar JSON', err); alert('Erro ao importar. Verifique o ficheiro.'); } }; reader.readAsText(file); }; input.click(); } // ---------- Mudança de cores básicas ---------- function changeSidebarColor() { const color = prompt('Digite a cor da barra lateral (hex, rgb ou nome):', '#3d4f5d'); if (color) { document.querySelectorAll('.sidebar').forEach(s => s.style.backgroundColor = color); saveStateDebounced(); } } function changeAccentColor() { const color = prompt('Digite a cor de destaque (hex, rgb ou nome):', '#5b9dd9'); if (color) { document.querySelectorAll('.progress-fill').forEach(f => f.style.backgroundColor = color); document.querySelectorAll('.contact-label').forEach(l => l.style.color = color); document.querySelectorAll('.item-company').forEach(c => c.style.color = color); document.documentElement.style.setProperty('--sidebar-accent', color); saveStateDebounced(); } } function changePaperColor() { const color = prompt('Digite a cor do papel (hex, rgb ou nome):', '#ffffff'); if (color) { document.querySelectorAll('.page').forEach(page => page.style.background = color); saveStateDebounced(); } } // ---------- Perfil: upload e drag-drop ---------- function handleImageUpload(event) { const file = event.target.files ? event.target.files[0] : event; if (!file) return; if (file && file.type && file.type.startsWith('image/')) { const reader = new FileReader(); reader.onload = function(e) { // substitui todas as imagens de perfil na página atual const wrapper = document.querySelector('.page .profile-image'); if (wrapper) wrapper.src = e.target.result; saveStateDebounced(); }; reader.readAsDataURL(file); } } // Permitir drag-drop sobre a imagem de perfil const profileWrapper = document.getElementById('profileWrapper'); if (profileWrapper) { profileWrapper.addEventListener('dragover', e => { e.preventDefault(); profileWrapper.style.opacity = '0.8'; }); profileWrapper.addEventListener('dragleave', e => { e.preventDefault(); profileWrapper.style.opacity = '1'; }); profileWrapper.addEventListener('drop', e => { e.preventDefault(); profileWrapper.style.opacity = '1'; const dt = e.dataTransfer; if (dt && dt.files && dt.files.length) handleImageUpload(dt.files[0]); }); } // ---------- Save / Load localStorage (autosave) ---------- function collectState() { const pages = document.querySelectorAll('.page'); const data = { version:'1.0', pages: [] }; pages.fo::rEach(page => { const sidebar = page.querySelector('.sidebar') ? page.querySelector('.sidebar').innerHTML : ''; const mainContent = page.querySelector('.main-content') ? page.querySelector('.main-content').innerHTML : ''; data.pages.push({ id: page.getAttribute('data-page-id'), sidebar, mainContent }); }); // salvar metadados (tema, scale) data.meta = { sidebarAccent: getComputedStyle(document.documentElement).getPropertyValue('--sidebar-accent'), sidebarBg: getComputedStyle(document.documentElement).getPropertyValue('--sidebar-bg'), pageScale: getComputedStyle(document.documentElement).getPropertyValue('--page-scale') }; return data; } function saveState() { try { const data = collectState(); localStorage.setItem('resumeEditor_state_v1', JSON.stringify(data)); //console.log('Salvo localmente'); } catch (err) { console.error('Não foi possível salvar no localStorage', err); } } // debounce para não salvar constantemente let saveTimer = null; function saveStateDebounced() { if (saveTimer) clearTimeout(saveTimer); saveTimer = setTimeout(() => { saveState(); saveTimer = null; }, 700); } function loadState() { try { const raw = localStorage.getItem('resumeEditor_state_v1'); if (!raw) return; const data = JSON.parse(raw); if (!data.pages) return; scrollContainer.innerHTML = ''; data.pages.forEach((p, idx) => { const id = p.id || (idx+1); const page = document.createElement('div'); page.className = 'page'; page.id = `page-${id}`; page.setAttribute('data-page-id', id); page.innerHTML = ` <div class="page-controls"> <button class="page-control-btn" onclick="duplicatePage(${id})" title="Duplicar"><ion-icon name="copy-outline"></ion-icon></button> <button class="page-control-btn" onclick="deletePage(${id})" title="Excluir"><ion-icon name="trash-outline"></ion-icon></button> </div> <div class="sidebar">${p.sidebar}</div> <div class="main-content">${p.mainContent}</div> `; scrollContainer.appendChild(page); }); pageCounter = document.querySelectorAll('.page').length; // meta if (data.meta) { if (data.meta.sidebarAccent) document.documentElement.style.setProperty('--sidebar-accent', data.meta.sidebarAccent); if (data.meta.sidebarBg) document.querySelectorAll('.sidebar').forEach(s => s.style.backgroundColor = data.meta.sidebarBg); if (data.meta.pageScale) document.documentElement.style.setProperty('--page-scale', data.meta.pageScale); updateScaleFromRoot(); } } catch (err) { console.error('Erro ao carregar estado', err); } } // Autosave periódico setInterval(() => { saveState(); }, 15000); // a cada 15s // Salvar antes de sair window.addEventListener('beforeunload', () => saveState()); // ---------- Find & Replace ---------- function openFindReplace() { document.getElementById('findReplaceModal').style.display = 'flex'; document.getElementById('findReplaceModal').setAttribute('aria-hidden', 'false'); } function closeFindReplace() { document.getElementById('findReplaceModal').style.display = 'none'; document.getElementById('findReplaceModal').setAttribute('aria-hidden', 'true'); } function doFind() { const q = document.getElementById('findInput').value; if (!q) return alert('Digite algo para pesquisar.'); // procura simples: marca as ocorrências na main-content da página atual const textContainer = document.querySelector('.page .main-content'); if (!textContainer) return; const regex = new RegExp(escapeRegExp(q), 'gi'); highlightMatches(textContainer, regex); } function doReplace() { const find = document.getElementById('findInput').value; const replace = document.getElementById('replaceInput').value; if (!find) return alert('Digite o texto a procurar.'); const textContainer = document.querySelector('.page .main-content'); if (!textContainer) return; // substitui no innerHTML (cuidado: perde edição de elementos complexos) const html = textContainer.innerHTML; const regex = new RegExp(escapeRegExp(find), 'gi'); textContainer.innerHTML = html.replace(regex, replace); saveStateDebounced(); closeFindReplace(); } function highlightMatches(container, regex) { // remove highlights anteriores container.querySelectorAll('mark._find').forEach(m => { m.outerHTML = m.innerHTML; }); // faz highlight container.innerHTML = container.innerHTML.replace(regex, (match) => `<mark class="_find" style="background:yellow;color:black;">${match}</mark>`); } function escapeRegExp(str) { return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); } // ---------- Zoom / Scale ---------- const zoomRange = document.getElementById('zoomRange'); function updateScaleFromRoot() { const scale = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--page-scale')) || 0.9; document.querySelectorAll('.page').forEach(p => p.style.transform = `scale(${scale})`); } // liga o range ao scale root var if (zoomRange) { zoomRange.addEventListener('input', (e) => { const val = e.target.value; const s = (val/100).toFixed(2); document.documentElement.style.setProperty('--page-scale', s); updateScaleFromRoot(); saveStateDebounced(); }); // inicial zoomRange.value = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--page-scale')) * 100 || 90; } updateScaleFromRoot(); // ---------- Pequenas utilidades ---------- function resetToDefault() { if (!confirm('Resetar tudo para o padrão? Isso irá remover alterações não salvas.')) return; localStorage.removeItem('resumeEditor_state_v1'); location.reload(); } // ---------- Atalhos de teclado ---------- document.addEventListener('keydown', (e) => { if (e.ctrlKey || e.metaKey) { switch (e.key.toLowerCase()) { case 'b': e.preventDefault(); execCmd('bold'); break; case 'i': e.preventDefault(); execCmd('italic'); break; case 'u': e.preventDefault(); execCmd('underline'); break; case 'z': e.preventDefault(); execCmd('undo'); break; case 'y': e.preventDefault(); execCmd('redo'); break; } } // Ctrl+S salva if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 's') { e.preventDefault(); saveState(); flashMessage('Salvo localmente'); } }); // feedback visual simples function flashMessage(text) { const el = document.createElement('div'); el.textContent = text; el.style.cssText = 'position:fixed; right:20px; bottom:100px; background:#111; color:white; padding:10px 14px; border-radius:8px; opacity:0.95; z-index:20000;'; document.body.appendChild(el); setTimeout(()=> el.remove(), 1400); } // ---------- Função para corrigir tags <font size=""> geradas pelo execCommand ---------- function cleanFontElements() { document.querySelectorAll('.main-content font').forEach(f => { const span = document.createElement('span'); span.innerHTML = f.innerHTML; const size = f.getAttribute('size'); if (size) { // aproxima const px = { '1':'8px','2':'10px','3':'12px','4':'14px','5':'16px','6':'20px','7':'24px'}[size] || '14px'; span.style.fontSize = px; } f.parentNode.replaceChild(span, f); }); } // Limpa marcas de highlight ao clicar fora document.addEventListener('click', (e) => { if (!e.target.closest('#findReplaceModal')) { document.querySelectorAll('mark._find').forEach(m => { m.outerHTML = m.innerHTML; }); } }); // ---------- Inicialização ---------- function init() { loadState(); // Atualiza fills para respeitar data-width document.querySelectorAll('.progress-fill').forEach(f => { const w = f.getAttribute('data-width') || f.style.width || '0%'; f.style.width = (w + '').toString().replace('%','') + '%'; }); // preenche o conteúdo dos modais document.getElementById('themeModal').querySelector('.modal-card').innerHTML = createThemeModalContent(); document.getElementById('themeModal').style.display = 'none'; document.getElementById('sectionModal').querySelector('.modal-card').innerHTML = createSectionModalContent(); document.getElementById('sectionModal').style.display = 'none'; document.getElementById('findReplaceModal').style.display = 'none'; // Permite salvar alterações quando conteúdo editável muda document.body.addEventListener('input', (e) => { if (e.target.closest('.page')) saveStateDebounced(); }); // Hook: cuide de alterações no DOM (ex: adicionar páginas) const observer = new MutationObserver(() => { // atualiza pageCounter const pages = document.querySelectorAll('.page'); pageCounter = pages.length || pageCounter; // corrige event handlers se necessário }); observer.observe(scrollContainer, { childList: true, subtree: true }); // Reaplica limpeza de font tags periodicamente para evitar tags <font> setInterval(() => { cleanFontElements(); }, 3500); // Carrega listeners do file input global para editar imagem em qualquer página document.getElementById('fileInput').addEventListener('change', (e) => { // aplica imagem ao profileImage da página ativa (a primeira .page por simplicidade) handleImageUpload(e); }); } init(); // ---------- Mensagens / utilitários finais ---------- // Pequena proteção: se o usuário pedir para fechar modal ao clicar no backdrop document.querySelectorAll('.modal-backdrop').forEach(backdrop => { backdrop.addEventListener('click', (e) => { if (e.target === backdrop) { backdrop.style.display = 'none'; backdrop.setAttribute('aria-hidden', 'true'); } }); }); // expose algumas funções no window para uso inline nos elementos clonados window.addNewPage = addNewPage; window.duplicatePage = duplicatePage; window.deletePage = deletePage; window.execCmd = execCmd; window.downloadPDF = downloadPDF; window.insertLink = insertLink; window.insertImage = insertImage; window.insertTable = insertTable; window.openThemeModal = openThemeModal; window.openSectionModal = openSectionModal; window.exportToJSON = exportToJSON; window.importFromJSON = importFromJSON; window.openFindReplace = openFindReplace; window.closeFindReplace = closeFindReplace; window.applyTheme = applyTheme; window.changePaperColor = changePaperColor; window.changeAccentColor = changeAccentColor; window.changeSidebarColor = changeSidebarColor; window.resetToDefault = resetToDefault; window.handleImageUpload = handleImageUpload; </script> </body> </html>"
    },
    {
      "name": "Modern Resume",
      "category": "Personal",
      "pro": false,
      "coverImage": "https://raw.githubusercontent.com/Alfredoooh/novasignal/main/covers/resume.jpg",
      "html": "<!DOCTYPE html><html><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:40px;min-height:100vh}.container{max-width:900px;margin:0 auto;background:white;border-radius:20px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,0.3)}.header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:60px 40px;text-align:center}.header h1{font-size:42px;margin-bottom:10px;font-weight:700}.header p{font-size:18px;opacity:0.9}.contact{display:flex;justify-content:center;gap:30px;margin-top:20px;flex-wrap:wrap}.contact-item{display:flex;align-items:center;gap:8px;font-size:14px}.content{padding:40px}.section{margin-bottom:40px}.section h2{color:#667eea;font-size:24px;margin-bottom:20px;padding-bottom:10px;border-bottom:3px solid #667eea;display:inline-block}.section p{color:#333;line-height:1.8;margin-bottom:15px}.experience-item{margin-bottom:30px;padding:20px;background:#f8f9fa;border-radius:10px;border-left:4px solid #667eea}.experience-item h3{color:#333;font-size:20px;margin-bottom:5px}.experience-item .position{color:#667eea;font-weight:600;margin-bottom:5px}.experience-item .date{color:#666;font-size:14px;margin-bottom:15px}.experience-item ul{margin-left:20px;color:#555}.experience-item ul li{margin-bottom:8px}.skills{display:flex;flex-wrap:wrap;gap:10px}.skill-tag{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:8px 16px;border-radius:20px;font-size:14px;font-weight:500}.education-item{padding:15px;background:#f8f9fa;border-radius:8px;margin-bottom:15px}.education-item h3{color:#333;font-size:18px;margin-bottom:5px}.education-item p{color:#666;font-size:14px}@media print{body{background:white;padding:0}.container{box-shadow:none;border-radius:0}}</style></head><body><div class=\"container\"><div class=\"header\"><h1>Your Full Name</h1><p>Professional Title | Industry Expert</p><div class=\"contact\"><div class=\"contact-item\">📧 your.email@example.com</div><div class=\"contact-item\">📱 +1 (555) 123-4567</div><div class=\"contact-item\">🔗 linkedin.com/in/yourprofile</div><div class=\"contact-item\">🌐 yourwebsite.com</div></div></div><div class=\"content\"><div class=\"section\"><h2>Professional Summary</h2><p>Dynamic and results-driven professional with 5+ years of experience in [Your Industry]. Proven track record of delivering exceptional results through innovative solutions and strategic thinking. Passionate about leveraging technology to solve complex business challenges and drive organizational growth.</p></div><div class=\"section\"><h2>Work Experience</h2><div class=\"experience-item\"><h3>Company Name Inc.</h3><div class=\"position\">Senior Position Title</div><div class=\"date\">January 2020 - Present</div><ul><li>Led cross-functional team of 10+ members to deliver high-impact projects worth $2M+</li><li>Increased operational efficiency by 40% through process optimization and automation</li><li>Mentored junior team members and conducted training sessions on best practices</li><li>Collaborated with stakeholders to define project scope and deliverables</li></ul></div><div class=\"experience-item\"><h3>Previous Company Ltd.</h3><div class=\"position\">Position Title</div><div class=\"date\">June 2018 - December 2019</div><ul><li>Managed multiple projects simultaneously with 100% on-time delivery rate</li><li>Implemented new systems that reduced costs by 25% annually</li><li>Developed and maintained strong client relationships resulting in 95% retention rate</li></ul></div></div><div class=\"section\"><h2>Education</h2><div class=\"education-item\"><h3>Master of Science in [Your Field]</h3><p>University Name | 2016 - 2018 | GPA: 3.8/4.0</p></div><div class=\"education-item\"><h3>Bachelor of Science in [Your Field]</h3><p>University Name | 2012 - 2016 | GPA: 3.6/4.0</p></div></div><div class=\"section\"><h2>Skills & Expertise</h2><div class=\"skills\"><span class=\"skill-tag\">Project Management</span><span class=\"skill-tag\">Leadership</span><span class=\"skill-tag\">Strategic Planning</span><span class=\"skill-tag\">Data Analysis</span><span class=\"skill-tag\">Team Building</span><span class=\"skill-tag\">Communication</span><span class=\"skill-tag\">Problem Solving</span><span class=\"skill-tag\">Innovation</span></div></div><div class=\"section\"><h2>Certifications</h2><ul style=\"margin-left:20px;line-height:2\"><li>Certified Professional in [Certification Name] - 2023</li><li>[Industry] Certification - 2022</li><li>Leadership Excellence Certificate - 2021</li></ul></div></div></div></body></html>"
    },
    {
      "name": "Creative Blog Post",
      "category": "Creative",
      "pro": true,
      "coverImage": "https://raw.githubusercontent.com/Alfredoooh/novasignal/main/covers/blog.webp",
      "html": "<!DOCTYPE html><html><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@300;400;700&display=swap');*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Lato',sans-serif;background:#fafafa;color:#333;line-height:1.8}.container{max-width:800px;margin:80px auto;background:white;border-radius:10px;overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,0.1)}.hero{height:400px;background:linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.3)),url('https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=800') center/cover;display:flex;align-items:center;justify-content:center;color:white;text-align:center;padding:40px}.hero h1{font-family:'Playfair Display',serif;font-size:48px;margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,0.5)}.meta{background:#f8f9fa;padding:20px 40px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e0e0e0;flex-wrap:wrap}.author{display:flex;align-items:center;gap:15px}.avatar{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}.author-info strong{display:block;color:#333}.author-info span{font-size:14px;color:#666}.stats{display:flex;gap:20px;font-size:14px;color:#666}.content{padding:40px 60px}.content h2{font-family:'Playfair Display',serif;font-size:32px;color:#2c3e50;margin:40px 0 20px;line-height:1.4}.content p{margin-bottom:25px;font-size:18px;color:#555}.content blockquote{border-left:4px solid #667eea;padding-left:20px;margin:30px 0;font-style:italic;color:#666;background:#f8f9fa;padding:20px;border-radius:5px}.content img{width:100%;border-radius:10px;margin:30px 0}.highlight{background:linear-gradient(120deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;border-radius:10px;margin:30px 0}.highlight h3{font-size:24px;margin-bottom:15px}.cta{background:#2c3e50;color:white;text-align:center;padding:40px;margin-top:40px}.cta h3{font-size:28px;margin-bottom:15px}.cta button{background:#667eea;color:white;border:none;padding:15px 40px;font-size:16px;border-radius:30px;cursor:pointer;transition:all 0.3s}.cta button:hover{background:#764ba2;transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,0.3)}@media(max-width:768px){.hero h1{font-size:32px}.content{padding:30px 20px}.content h2{font-size:24px}.content p{font-size:16px}}</style></head><body><div class=\"container\"><div class=\"hero\"><div><h1>The Ultimate Guide to Creative Writing</h1></div></div><div class=\"meta\"><div class=\"author\"><div class=\"avatar\"></div><div class=\"author-info\"><strong>Jane Doe</strong><span>Published on November 25, 2024</span></div></div><div class=\"stats\"><span>📖 5 min read</span><span>💬 24 comments</span><span>❤️ 142 likes</span></div></div><div class=\"content\"><p>Welcome to this comprehensive guide where we'll explore the fascinating world of creative writing. Whether you're a beginner or an experienced writer, there's always something new to discover about the craft of storytelling.</p><h2>Why Creative Writing Matters</h2><p>Creative writing is more than just putting words on paper. It's about expressing ideas, emotions, and experiences in ways that resonate with readers. Through creative writing, we can:</p><ul style=\"margin:20px 0 20px 40px\"><li style=\"margin-bottom:10px\">Share unique perspectives and stories</li><li style=\"margin-bottom:10px\">Connect with audiences on an emotional level</li><li style=\"margin-bottom:10px\">Develop critical thinking and communication skills</li><li style=\"margin-bottom:10px\">Build a personal or professional brand</li></ul><blockquote>\"There is no greater agony than bearing an untold story inside you.\" - Maya Angelou</blockquote><h2>Getting Started with Your Writing Journey</h2><p>The first step in any creative writing journey is to simply start. Don't worry about perfection – worry about progress. Set aside dedicated time each day, even if it's just 15 minutes, to write something new.</p><div class=\"highlight\"><h3>✨ Pro Tip for Writers</h3><p>Keep a journal of ideas, observations, and snippets of dialogue you overhear. These can become invaluable resources when you're looking for inspiration or struggling with writer's block.</p></div><h2>Essential Elements of Great Writing</h2><p>Every compelling piece of writing shares certain fundamental elements. Let's explore what makes writing truly captivate readers:</p><p><strong>1. Strong Characters:</strong> Whether fiction or non-fiction, relatable characters or personas help readers connect with your content.</p><p><strong>2. Engaging Voice:</strong> Your unique voice is what sets your writing apart. Don't try to sound like someone else – embrace your authentic style.</p><p><strong>3. Clear Structure:</strong> Good writing has a clear beginning, middle, and end that guides readers through your narrative or argument.</p><p><strong>4. Vivid Details:</strong> Show, don't tell. Use sensory details to bring your writing to life and make it memorable.</p><h2>Overcoming Common Challenges</h2><p>Every writer faces obstacles. Here's how to tackle the most common challenges:</p><p>Writer's block? Take a break, change your environment, or try freewriting without editing. Sometimes stepping away is the best way to refresh your creativity.</p><p>Lack of confidence? Remember that every great writer started somewhere. Share your work with trusted friends or join a writing community for support and feedback.</p><div class=\"cta\"><h3>Ready to Start Your Writing Journey?</h3><p style=\"margin-bottom:20px\">Join our community of writers and get access to exclusive resources, prompts, and feedback.</p><button>Get Started Free</button></div></div></div></body></html>"
    }
  ]
}